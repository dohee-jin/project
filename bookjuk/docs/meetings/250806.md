
# 📅 2025-08-06 회고

> **북적북적(BookJuk)** 사용자 시나리오 작성

---

## 🧭 오늘 논의한 주요 내용

* 역할 별 담당 사용자 시나리오 작성
* API 명세서 작성

---

## ✅ 마이페이지 사용자 시나리오 작성
논의 한 기능을 바탕으로 마이페이지 이동까지의 내용을 아래와 같이 정리 후 ai(클로드) 툴을 활용하여 필수 기능, 추가되면 좋을 기능을 정리 후 최종 시나리오를 작성했다. 

### 페이지 이동 사용자 흐름(마이페이지 제외)
```
-- # 1. 메인페이지(최초 진입, 로그인 전)
    사용자가 플랫폼에 진입하면 메인페이지가 노출된다.
    메인페이지는 헤더, 비주얼(배너), 모임 리스트로 구성된다.
    상단 헤더에는 로그인 버튼이 위치해있다. 
    모임 리스트를 클릭하여 모임 정보를 확인하려고 할 때 로그인 여부를 판단,
    로그인이 되어있지 않으면 로그인 화면으로 이동한다.

-- # 2. 로그인
    로그인 페이지에는 로그인 화면(디폴트 노출)과 회원가입 화면이 있다.
    회원가입 화면과 로그인 화면은 탭 구조로 구성되어 회원가입 화면은 
    로그인 화면 진입시 비활성화 된 상태이다. 
    사용자가 가입된 회원이면 로그인을 하고, 가입되어있지 않으면 회원가입으로 이동하여 가입을 진행한다.
   # 2.1 가입된 회원
    가입된 회원의 경우 로그인 후 메인페이지로 이동한다. 
   # 2.2 가입되어 있지 않은 회원
    가입되어 있지 않은 회원의 경우 회원가입을 먼저 진행 후 다시 로그인 화면으로 이동한다.
    로그인 후 메인페이지로 이동한다.

-- # 3. 메인페이지(로그인 후)   
    로그인 후 메인페이지로 돌아오면 메인페이지의 상단이 변경된다.
    메인페이지의 상단은 모임만들기, 마이페이지, 로그아웃 3개의 메뉴로 변경된다.
    사용자는 메인 페이지에 노출된 모임을 클릭하여 모임 상세페이지로 이동하거나, 모임만들기 버튼을 통해 모임을 생성, 
    또는 모임리스트 화면으로 이동하여 여러 검색 조건으로 사용자의 니즈에 맞는 모임을 찾는다.

-- # 4. 모임(생성/찾기/상세페이지)
   # 4.1 모임 생성
    모임 생성을 하는 사용자는 호스트라 칭한다. 
    호스트는 모임 만들기 버튼을 클릭하여 모임 만들기 페이지로 이동한다.
    모임 생성 폼에서 요구하는 입력 폼을 작성하고 제출하여 모임을 생성한다.
    모임 생성 완료 후 모임 상세페이지로 이동된다.
   # 4.2 모임 찾기
    사용자(이하 참여자)는 모임 찾기 페이지에서 생성된 모임 리스트를 확인할 수 있다.
    모임 리스트는 한 페이지에 6개씩 카드 형식으로 노출되고 각 페이지 하단의 페이지네이션을 
    통해 다른 리스트들을 확인할 수 있다.
    모임은 기본적으로 작성된 순서가 최신순으로 정렬되어 확인할 수 있다.
    참여자는 지역, 장르 상태를 필터링 하여 원하는 모임을 찾을 수 있다.
    원하는 모임이 있다면 참여자는 모임 카드의 타이틀을 선택하여 모임 상세 페이지로 이동한다.
   # 4.3 모임 상세페이지
    모임 상세페이지는 크게 좌측 화면과 우측 화면으로 나눌 수 있다.
    좌측 화면에는 모임 생성시 입력한 정보들과 모임 게시판 화면이 노출된다.
    모임 상세페이지의 우측에는 모임 참여 정보(호스트와 참여자 별로 노출되는 화면이 다름), 모임 생성 호스트 정보(공통)를 확인할 수 있다.
   # 4.3.1 모임 게시판(호스트, 참여자 공통)
    게시판 기능은 모임 참여자로 제한한다. 모임 참여자가 아닌 사용자들을 탐색만 가능하다.
    모임이 생성되면 호스트와 참여자는 모임 게시판에 글을 작성하여 소통을 한다.
    게시판에는 제목, 글, 사진(선택)을 작성한다. 
    작성이 완료된 게시글에는 제목, 내용, 작성자 이름이 표시된다.
    모임참여자들은 게시글에 댓글을 달 수 있다. 
   # 4.3.2 호스트 화면
    호스트는 우측 화면에서 모임 신청자를 확인할 수 있다. 
    호스트는 신청자의 수락과 거절 상태를 지정할 수 있다.
   # 4.3.3 참여자 화면
    참여자는 모임 신청 전이라면 모임 참여를 할 수 있는 버튼이 활성화 되어 신청할 수 있다.
    신청 전이면 신청 버튼만 존재하고 신청 후 10분 뒤에는 신청 취소 버튼이 활성화 되어 취소가 가능하다.
   # 4.4 모임 종료
    호스트는 모임을 종료할 수 있고 모임이 종료되면 각자 상세페이지에서 본인을 제외한 참여자(호스트포함)에게
    좋아요 버튼으로 리뷰를 남길 수 있다.
```

### 마이페이지 사용자 흐름
```
-- # 1. 마이페이지 접근
    마이페이지는 헤더 마이페이지 버튼을 통해 자신의 마이페이지로 접근한다.

-- # 2. 마이페이지(디폴트 화면)
    마이페이지에서는 자신의 정보(프로필 사진, 닉네임, 이메일, 자기소개, 선호 장르)와 
    활동통계(받은 좋아요 수, 참여한 모임 수), 참여 모임 내역을 확인 할 수 있다.
   # 2.1 프로필 정보
    프로필 정보에는 프로필 사진, 닉네임, 이메일, 자기소개, 선호 장르가 노출되며
    프로필 수정 버튼을 통해 새 페이지에서 프로필을 수정할 수 있다.
   # 2.2 활동 통계
    활동 통계에서는 다른 사용자들로부터 받은 좋아요 총 개수와 참여한 모임 총 수를 확인할 수 있으며, 
    이는 사용자의 신뢰도를 나타내는 지표로 사용된다. 
   # 2.3 참여 모임 내역
    참여 모임 내역에서는 사용자가 참여한 모든 모임(호스트로 만든 모임 포함)의 목록을 확인할 수 있다. 
    각 모임에는 모임 제목, 날짜, 내 역할(호스트/참여자), 모임 상태(진행예정/진행중/완료)가 표시된다. 
    모임을 클릭하면 해당 모임의 상세페이지로 이동할 수 있다. 
    참여한 모임이 없는 경우 "아직 참여한 모임이 없습니다"라는 메시지와 함께 모임 찾기 버튼이 제공된다.

-- # 3. 프로필 수정
    프로필 수정 버튼을 통해 프로필 수정 페이지로 이동한다. 
    이메일을 제외한 사진, 닉네임, 자기소개, 선호 장르를 수정 후 저장하면 반영된다. 
```
#### ✅ 마이페이지 MVP 범위 정리
- 기본 프로필 정보 확인/수정
- 활동 통계 (좋아요, 참여 모임 수)
- 참여 모임 내역 확인

#### ✨ 추가되면 좋을 기능
- 장르별 모임 참여 횟수
- 독서 통계
- 다른 사용자의 프로필 확인
- 읽고 싶은 책 리스트 관리
- 프로필 공개 범위 설정
- 관심 장르 설정
- 관심 장르의 새 모임 추천 알림
- 새 좋아요, 모임 승인, 거절, 일정 변경 알림
- 모임 찜하기, 찜한 모임 모아보기
---

## ✅ API 명세서 작성(마이페이지)
8/5 논의한 내용과 유저 플로우 기반으로 생성된 피그마 와이어프레임 기반으로 각자 맡은 역할의 Api 명세서를 작성   
마이페이지의 경우 크게 조회/수정 두가지 API 로 나눌 수 있으며   
조회의 경우 마이페이지 접근 시 유저정보, 모임정보, 통계 정보를 한번에 받아서 처리해야한다.
```
# 📚 BookJuk(북적북적) 마이페이지 API 명세서
## 마이페이지 정보 조회

- **url:** `GET /api/mypage`
- **request header:** 사용자 인증 토큰(JWT 토큰 인증 학습 후 내용 수정)
- **설명:** 사용자의 마이페이지 전체 정보(프로필, 활동 통계, 참여한 모임 정보)를 조회합니다.

### 응답(Response) 예시

#### 성공 (200 OK)

json
{
  "status": true,
  "message": "마이페이지 정보 조회를 성공했습니다.",
  "timestamp": "2025-08-07T12:12:12.2987169",
  "data": {
    "profile": {
      "username": "책벌레123",
      "email": "user@example.com",
      "profileImage": "https://example.com/profile/123.jpg",
      "introduction": "안녕하세요! 추리소설을 좋아합니다.",
      "preferredGenres": ["추리", "SF", "에세이"]
    },
    "statistics": {
      "receivedLikes": 15,
      "participatedMeetings": 8
    },
    "meetings": [
      {
        "title": "추리소설 읽기 모임",
        "date": "2024-08-15T19:00:00Z",
        "status": "completed", // "upcoming", "ongoing", "completed"
        "role": "participant", // "host", "participant"
        "book": {
            "title": "셜록 홈즈",
            "author": "아서 코난 도일"
        }
      },
      {
        "title": "SF 소설 토론회",
        "date": "2024-08-20T18:00:00Z",
        "status": "upcoming",
        "role": "host",
        "book": {
            "title": "셜록 홈즈",
            "author": "아서 코난 도일"
        }
      }
    ]
  }
}

#### 에러 
* **401 Unauthorized Error**: 인증 토큰이 없거나 유효하지 않음
* **404 USER_NOT_FOUND**: 사용자를 찾을 수 없음

---

## 마이페이지 프로필 정보 수정

- **url:** `PUT /api/mypage/profile`
- **request header:** 
  - 사용자 인증 토큰(JWT 토큰 인증 학습 후 내용 수정)
  - content-type: multipart/form-data
- **request body:**
  - profileImage: 새로운 프로필 이미지 파일 (선택 사항)
  - username: 새로운 닉네임 (선택 사항)
  - introduction: 새로운 자기소개 (선택 사항)
  - preferredGenres: 선호 장르 수정(선택 사항)
- **설명:** 사용자의 프로필 정보를 수정합니다. 이미지와 텍스트 정보를 함께 처리할 수 있습니다.

#### 성공 (200 OK)

json
{
  "status": true,
  "message": "마이페이지 정보 조회를 성공했습니다.",
  "timestamp": "2025-08-07T12:12:12.2987169",
  "data": {
    "username": "새로운닉네임",
    "profileImage": "https://example.com/profile/123_new.jpg",
    "introduction": "새로운 자기소개입니다.",
    "preferredGenres": ["추리", "SF", "에세이"]
  }
}

#### 에러 
* **400 INVAILD_INPUT**: 인증 토큰이 없거나 유효하지 않음
* **401 Unauthorized Error**: 인증 토큰이 없거나 유효하지 않음

```

---

## 💭 8/6 일 회고
오늘은 역할별 담당 사용자 시나리오 작성과 API 명세서 작성을 진행했다.
각 역할에 따라 사용자 흐름을 구체적으로 정리하며, 기능이 실제로 어떻게 작동할지를 구상하는 데 집중했으며,
이 흐름을 바탕으로 API 요청과 응답의 구조, 필요 파라미터, 예외 케이스 등을 포함한 명세서를 정리할 수 있었다.
이번 작업을 통해 사용자 관점에서 기능을 다시 한번 점검하게 되었고
추후 프론트앤드와 백엔드 작성 시 발생할 수 있는 혼선을 미리 줄일 수 있겠다는 생각이 들었다.   
